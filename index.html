<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>勉強アプリ</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    img { max-width: 100%; margin-top: 10px; }
    button { margin-top: 10px; }
  </style>
</head>
<body>

<h2>問題</h2>
<img id="qImg" style="display:none">

<button onclick="showAnswer()">答えを見る</button>
<button onclick="nextQuestion()">次の問題</button>

<img id="aImg" style="display:none">

<hr>

<h3>問題を追加</h3>
<input id="q" placeholder="問題画像URL"><br>
<input id="a" placeholder="答え画像URL"><br>
<button onclick="add()">追加</button>

<script>
let data = JSON.parse(localStorage.getItem("data") || "[]");

function save() {
  localStorage.setItem("data", JSON.stringify(data));
}

function nextQuestion() {
  if (data.length === 0) {
    alert("問題がまだないよ");
    return;
  }
  let d = data[Math.floor(Math.random() * data.length)];
  document.getElementById("qImg").src = d.q;
  document.getElementById("qImg").style.display = "block";
  document.getElementById("aImg").style.display = "none";
  document.getElementById("aImg").src = d.a;
}

function showAnswer() {
  document.getElementById("aImg").style.display = "block";
}

function add() {
  let q = document.getElementById("q").value.trim();
  let a = document.getElementById("a").value.trim();
  if (!q || !a) {
    alert("URLを入れてね");
    return;
  }
  data.push({ q, a });
  save();
  document.getElementById("q").value = "";
  document.getElementById("a").value = "";
  alert("追加した！");
}
</script>

</body>
</html>
